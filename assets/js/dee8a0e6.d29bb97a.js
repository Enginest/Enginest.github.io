"use strict";(self.webpackChunkmobile_docs=self.webpackChunkmobile_docs||[]).push([[8266],{3159:(n,r,e)=>{e.r(r),e.d(r,{assets:()=>O,contentTitle:()=>o,default:()=>l,frontMatter:()=>s,metadata:()=>d,toc:()=>a});var i=e(5893),t=e(1151);const s={sidebar_position:1,description:"Comprendre TMS32"},o="Explication",d={id:"server/Config/TMS32/explication/index",title:"Explication",description:"Comprendre TMS32",source:"@site/docs/server/Config/TMS32/explication/index.md",sourceDirName:"server/Config/TMS32/explication",slug:"/server/Config/TMS32/explication/",permalink:"/docs/server/Config/TMS32/explication/",draft:!1,unlisted:!1,editUrl:"https://github.com/docs/server/Config/TMS32/explication/index.md",tags:[],version:"current",sidebarPosition:1,frontMatter:{sidebar_position:1,description:"Comprendre TMS32"},sidebar:"tutorialSidebar",previous:{title:"TMS32",permalink:"/docs/server/Config/TMS32/"},next:{title:"Mobile.config parsing",permalink:"/docs/category/mobileconfig-parsing"}},O={},a=[{value:"Boot.config",id:"boot.config",level:2},{value:"Mobile.config",id:"mobile.config",level:2},{value:"Composition du fichier",id:"composition-du-fichier",level:4},{value:"Comment le fichier est pars\xe9 ?",id:"comment-le-fichier-est-pars\xe9-",level:4}];function R(n){const r={admonition:"admonition",br:"br",code:"code",h1:"h1",h2:"h2",h4:"h4",img:"img",li:"li",mdxAdmonitionTitle:"mdxAdmonitionTitle",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,t.a)(),...n.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(r.h1,{id:"explication",children:"Explication"}),"\n",(0,i.jsxs)(r.admonition,{type:"warning",children:[(0,i.jsx)(r.mdxAdmonitionTitle,{children:(0,i.jsx)(r.strong,{children:"Attention"})}),(0,i.jsx)(r.p,{children:"La doc pour le parsing n'est plus a jour, le systeme a \xe9tait refait dans src/utils/parsingConfig.js."})]}),"\n",(0,i.jsx)(r.p,{children:'Ci-dessous une image du dossier "TMS32".'}),"\n",(0,i.jsx)(r.p,{children:(0,i.jsx)(r.img,{alt:"Alt text",src:e(7939).Z+"",width:"618",height:"700"})}),"\n",(0,i.jsx)(r.p,{children:"Vous pouvez y trouver:"}),"\n",(0,i.jsxs)(r.ul,{children:["\n",(0,i.jsx)(r.li,{children:"le dossier de config (/Config)"}),"\n",(0,i.jsx)(r.li,{children:"le dossier de la base de donn\xe9e (/Data)"}),"\n",(0,i.jsx)(r.li,{children:"le dossier des scripts ncl (/Model)"}),"\n"]}),"\n",(0,i.jsx)(r.h2,{id:"boot.config",children:"Boot.config"}),"\n",(0,i.jsxs)(r.p,{children:["Il y a pas mal de chose int\xe9ressante dedant, par exemple l'ip et le port du serveur, la valeur des macros etc... ",(0,i.jsx)(r.br,{}),"\n","TMS32\\Config\\00\\Boot.config"]}),"\n",(0,i.jsx)(r.h2,{id:"mobile.config",children:"Mobile.config"}),"\n",(0,i.jsxs)(r.p,{children:['Le fichier "Mobile000.conf" est dans le dossier "TMS32" du serveur. ',(0,i.jsx)(r.br,{}),"\n","TMS32\\Config\\00\\Mobile000.conf"]}),"\n",(0,i.jsx)(r.h4,{id:"composition-du-fichier",children:"Composition du fichier"}),"\n",(0,i.jsx)(r.p,{children:"Il est compos\xe9 de plusieurs parties distinctes."}),"\n",(0,i.jsxs)(r.ul,{children:["\n",(0,i.jsx)(r.li,{children:"Macros"}),"\n",(0,i.jsx)(r.li,{children:"NCL Programs"}),"\n",(0,i.jsx)(r.li,{children:"Composite Key"}),"\n",(0,i.jsx)(r.li,{children:"SQL Script"}),"\n",(0,i.jsx)(r.li,{children:"Alias/Types"}),"\n"]}),"\n",(0,i.jsx)(r.p,{children:"Chaque partie est n\xe9c\xe9ssaire au bon fonctionnement de l'application mobile."}),"\n",(0,i.jsxs)(r.admonition,{type:"warning",children:[(0,i.jsx)(r.mdxAdmonitionTitle,{children:(0,i.jsx)(r.strong,{children:"Attention"})}),(0,i.jsxs)(r.p,{children:["Toutes modifications d'ordre des parties causera des probl\xe8mes. ",(0,i.jsx)(r.br,{}),"\n","Pour \xe9viter cela merci de suivre la documentation de chaques parties."]})]}),"\n",(0,i.jsxs)(r.p,{children:["La config nous est envoy\xe9 par le serveur en format txt, nous recevons donc ligne par ligne la config. ",(0,i.jsx)(r.br,{}),"\n","Ci-dessous ce qu'on re\xe7oit du serveur."]}),"\n",(0,i.jsx)(r.pre,{children:(0,i.jsx)(r.code,{children:"STATE=1&MESSAGE=255 255 255\r\n0 0 0\r\n234 234 234\r\nLogin\r\nLogout\r\nTMS\r\nTMS. Copyright 2023 ENGINEST. All rights reserved.\r\nUser\r\nPassword\r\nCurrent Password\r\nNew Password\r\nConfirm Password\r\nOK\r\nCancel\r\nSucceeded\r\nFailed\r\nSettings\r\nSettings\r\nSettings\r\nColors\r\nPermission\r\nBackground\r\nText\r\nButton\r\nRead\r\nWrite\r\nAdmin\r\nDatabase settings\r\nMaps\r\nSearch\r\nDelete\r\nEdit\r\nSave\r\nDepot\r\nOrder\r\nOrder Itinerary\r\nVehicle\r\nTour\r\nTour Itinerary\r\nOPT_FIELD\r\nSELECT * FROM OPT_FIELD WHERE NOT (id IS NULL OR id = '' OR id = 'FIELD' OR id = 'MENU') ORDER BY ord;\r\nOPT_TOUR\r\nOPT_ORDER\r\nOPT_DEPOT\r\nSELECT OPT_DEPOT.id FROM OPT_DEPOT ORDER BY OPT_DEPOT.id;\r\nSELECT OPT_TOUR.idResource FROM OPT_TOUR ORDER BY OPT_TOUR.idResource;\r\nSELECT OPT_ORDER.id FROM OPT_ORDER ORDER BY OPT_ORDER.id;\r\nSELECT OPT_TOUR.tourResource FROM OPT_TOUR WHERE OPT_TOUR.idResource = '' ORDER BY OPT_TOUR.tourResource;\r\nExit\r\nProgram\r\nImport Data\r\nCompute Solution\r\nReoptimize Defect\r\nTSP Optimize\r\n\"\"\r\n\"\"\r\nPROGRAM=Model/Interface/Test.n&DIRECTORY=./&REPLY=NULL&CONFIG=ncl.cfg&TraceLevel=1\r\nPROGRAM=Model/Interface/Test.n&DIRECTORY=./&REPLY=NULL&CONFIG=ncl.cfg&TraceLevel=1&BUFFER=80 000 \"Optimize Planned+Candidate Orders\"\r\nPROGRAM=Model/Interface/Test.n&DIRECTORY=./&REPLY=NULL&CONFIG=ncl.cfg&TraceLevel=1&BUFFER=80 000 \"Reoptimize Orders\"\r\nPROGRAM=Model/Interface/Test.n&DIRECTORY=./&REPLY=NULL&CONFIG=ncl.cfg&TraceLevel=1&BUFFER=80 000 \"Reoptimize Test\"\r\n\"\"\r\n\"\"\r\n127.0.0.1\r\n80\r\n4\r\nNCL_Program1\r\n2\r\nSELECT OPT_ORDER.state FROM OPT_ORDER ORDER BY OPT_ORDER.state\r\nSELECT OPT_CLIENT.id, OPT_CLIENT.name FROM OPT_CLIENT ORDER BY OPT_CLIENT.id\r\nNCL_Program2\r\n2\r\nSELECT OPT_ORDER.id FROM OPT_ORDER ORDER BY OPT_ORDER.id\r\nSELECT OPT_ORDER.state FROM OPT_ORDER ORDER BY OPT_ORDER.state\r\nNCL_Program3\r\n2\r\nSELECT OPT_ORDER.id FROM OPT_ORDER ORDER BY OPT_ORDER.id\r\nSELECT OPT_ORDER.state FROM OPT_ORDER ORDER BY OPT_ORDER.state\r\nNCL_Program4\r\n3\r\nSELECT OPT_ORDER.id FROM OPT_ORDER ORDER BY OPT_ORDER.id\r\nSELECT OPT_ORDER.idClient FROM OPT_ORDER ORDER BY OPT_ORDER.idClient\r\nSELECT OPT_ORDER.state FROM OPT_ORDER ORDER BY OPT_ORDER.state\r\n4\r\nOPT_ORDER\r\nidClient+id\r\nOPT_RESOURCE\r\nidClub+id\r\nOPT_FEEDBACK\r\nidClub+idResource+tourResource+ord\r\nOPT_SITE\r\nidClub+id\r\nupdate\r\n2\r\nOPT_RESOURCE\r\n1\r\nid\r\nSELECT OPT_RESOURCE.id, NULL FROM OPT_RESOURCE ORDER BY OPT_RESOURCE.id\r\nOPT_ORDER\r\n5\r\nid\r\nSELECT OPT_ORDER.id, NULL FROM OPT_ORDER ORDER BY OPT_ORDER.id\r\nidClient\r\nSELECT OPT_CLIENT.name+' '+OPT_CLIENT.id FROM OPT_CLIENT ORDER BY OPT_CLIENT.id\r\npriority\r\nSELECT 0 FROM OPT_USER UNION SELECT 1 FROM OPT_USER UNION SELECT 2 FROM OPT_USER UNION SELECT 3 FROM OPT_USER UNION SELECT 4 FROM OPT_USER UNION SELECT 5 FROM OPT_USER UNION SELECT 6 FROM OPT_USER UNION SELECT 7 FROM OPT_USER UNION SELECT 8 FROM OPT_USER UNION SELECT 9 FROM OPT_USER\r\nidSite2\r\nSELECT OPT_SITE.name+' '+OPT_SITE.id FROM OPT_SITE ORDER BY OPT_SITE.id\r\nidProduct\r\nSELECT OPT_PRODUCT.name+' '+OPT_PRODUCT.id FROM OPT_PRODUCT ORDER BY OPT_PRODUCT.id\r\ninsert\r\n2\r\nOPT_ORDER\r\n1\r\nid\r\nSELECT Max(id)+1, NULL FROM OPT_ORDER\r\nOPT_FEEDBACK\r\n3\r\nidResource\r\nSELECT idResource, NULL  FROM OPT_TOUR\r\ntourResource\r\nSELECT tourResource, NULL  FROM OPT_TOUR\r\nKM\r\nSELECT Max(KM), NULL  FROM OPT_FEEDBACK\r\nupdate\r\n4\r\nOPT_RESOURCE\r\n1\r\nstate\r\nenum\r\n4\r\n0\r\nunavailable\r\n1\r\navailable\r\n2\r\nplanned\r\n3\r\nlaunched\r\nOPT_ORDER\r\n3\r\nt10\r\ndate\r\ntrue\r\nt2Service0\r\ntime\r\ntrue\r\nstate\r\nenum\r\n4\r\n0\r\nunavailable\r\n1\r\ncandidate\r\n2\r\nplanned\r\n3\r\nlaunched\r\nOPT_SITE\r\n2\r\nlatitude\r\nlatitude\r\ntrue\r\nlongitude\r\nlongitude\r\ntrue\r\nOPT_FEEDBACK\r\n4\r\nt0\r\ndatetime\r\ntrue\r\nlatitude\r\nlatitude\r\ntrue\r\nlongitude\r\nlongitude\r\ntrue\r\nstate\r\nenum\r\n11\r\n0\r\nposition\r\n1\r\nday start\r\n2\r\nday end\r\n3\r\ntour start\r\n4\r\ntour end\r\n5\r\nloading start\r\n6\r\nloading end\r\n7\r\ndelivery start\r\n8\r\ndelivery end\r\n9\r\npause start\r\n10\r\npause end\r\ninsert\r\n2\r\nOPT_ORDER\r\n2\r\nt10\r\ndatetime\r\ntrue\r\nt2Service0\r\ndatetime\r\nfalse\r\nOPT_FEEDBACK\r\n4\r\nt0\r\ndatetime\r\ntrue\r\nlatitude\r\nlatitude\r\ntrue\r\nlongitude\r\nlongitude\r\ntrue\r\nstate\r\nenum\r\n11\r\n0\r\nposition\r\n1\r\nday start\r\n2\r\nday end\r\n3\r\ntour start\r\n4\r\ntour end\r\n5\r\nloading start\r\n6\r\nloading end\r\n7\r\ndelivery start\r\n8\r\ndelivery end\r\n9\r\npause start\r\n10\r\npause end\n"})}),"\n",(0,i.jsx)(r.h4,{id:"comment-le-fichier-est-pars\xe9-",children:"Comment le fichier est pars\xe9 ?"}),"\n",(0,i.jsxs)(r.p,{children:["Selon la partie, le parsing peut-\xeatre diff\xe9rent. ",(0,i.jsx)(r.br,{}),"\n","Exemple: La partie SQL Script n'a pas le m\xeame parsing que Alias/Types. ",(0,i.jsx)(r.br,{}),"\n","On recoit le fichier ligne par ligne sauf que comme ce n'est jamais la m\xeame convention dans le fichier ",(0,i.jsx)(r.br,{}),"\n","on est oblig\xe9 de faire des parsing diff\xe9rent."]})]})}function l(n={}){const{wrapper:r}={...(0,t.a)(),...n.components};return r?(0,i.jsx)(r,{...n,children:(0,i.jsx)(R,{...n})}):R(n)}},7939:(n,r,e)=>{e.d(r,{Z:()=>i});const i=e.p+"assets/images/image-8-a8633044a2af302c157e4539f1217d90.png"},1151:(n,r,e)=>{e.d(r,{Z:()=>d,a:()=>o});var i=e(7294);const t={},s=i.createContext(t);function o(n){const r=i.useContext(s);return i.useMemo((function(){return"function"==typeof n?n(r):{...r,...n}}),[r,n])}function d(n){let r;return r=n.disableParentContext?"function"==typeof n.components?n.components(t):n.components||t:o(n.components),i.createElement(s.Provider,{value:r},n.children)}}}]);